--WARNING! This has a toggle instead of a button!!!

local ScreenGui = Instance.new("ScreenGui")

local MainFrame = Instance.new("Frame")

local Title = Instance.new("TextLabel")

local ToggleButton = Instance.new("TextButton")

local EnableButton = Instance.new("TextButton")





ScreenGui.Parent = game.CoreGui



MainFrame.Parent = ScreenGui

MainFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)

MainFrame.BorderSizePixel = 2

MainFrame.BorderColor3 = Color3.fromRGB(0, 170, 255)

MainFrame.Size = UDim2.new(0, 200, 0, 100)

MainFrame.Position = UDim2.new(0, 10, 0.5, -50)

MainFrame.Draggable = true

MainFrame.Visible = false

MainFrame.Active = true



Title.Parent = MainFrame

Title.Text = "Speeding Wall Autofarm"

Title.BackgroundColor3 = Color3.fromRGB(25, 25, 25)

Title.BorderSizePixel = 2

Title.BorderColor3 = Color3.fromRGB(0, 170, 255)

Title.Size = UDim2.new(1, 0, 0, 40)

Title.TextColor3 = Color3.fromRGB(255, 255, 255)

Title.TextScaled = true



ToggleButton.Parent = ScreenGui

ToggleButton.Text = "+"

ToggleButton.Size = UDim2.new(0, 60, 0, 40)

ToggleButton.Position = UDim2.new(0, 10, 0.5, -130)

ToggleButton.BackgroundColor3 = Color3.fromRGB(35, 35, 35)

ToggleButton.BorderSizePixel = 2

ToggleButton.BorderColor3 = Color3.fromRGB(0, 170, 255)

ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)

ToggleButton.TextScaled = true

ToggleButton.Draggable = true



local isOn = false  -- Initial state
_G.Autofarm = false  -- Global variable for the autofarm toggle

-- Setting up the button
EnableButton.Parent = MainFrame
EnableButton.Text = "Enable"
EnableButton.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
EnableButton.BorderSizePixel = 2
EnableButton.BorderColor3 = Color3.fromRGB(0, 170, 255)
EnableButton.Size = UDim2.new(1, -20, 0, 30)
EnableButton.Position = UDim2.new(0, 10, 0, 50)
EnableButton.TextColor3 = Color3.fromRGB(255, 255, 255)
EnableButton.TextScaled = true
EnableButton.Draggable = false

-- Toggle functionality
EnableButton.MouseButton1Click:Connect(function()
    isOn = not isOn  -- Toggle the state
    _G.Autofarm = isOn  -- Set the global Autofarm state
    
    if isOn then
        EnableButton.Text = "Disable"
        print("Toggle is ON - Starting Autofarm...")
        
        -- Start the autofarm loop
        while _G.Autofarm do
            -- Load and run the script
            loadstring(game:HttpGet("https://raw.githubusercontent.com/IAmOnTablet/Speeding-Wall/main/The_Script"))()
            task.wait()  -- Wait before running the script again
        end
        
    else
        EnableButton.Text = "Enable"
        print("Toggle is OFF - Stopping Autofarm...")
        -- _G.Autofarm will be set to false, stopping the loop
    end
end)


ToggleButton.MouseButton1Click:Connect(function()

    MainFrame.Visible = not MainFrame.Visible

    ToggleButton.Text = MainFrame.Visible and "-" or "+"

end)
